# 從版控系統評估開發者技術水平與程式碼品質框架

## 📊 評估維度總覽

從 Git 版控可以客觀分析以下 6 大維度，綜合評估開發者的技術能力：

---

## 1️⃣ 程式碼貢獻量指標

### 評估項目：
- **提交次數** (Commit Count)
  - 過少：參與度低
  - 適中：穩定貢獻
  - 過多：可能拆分過細或頻繁修 bug

- **程式碼變更量** (Lines Added/Deleted)
  ```bash
  git log --author="NAME" --numstat --pretty=tformat:
  ```
  - 新增/刪除比例：刪除多 = 重構能力強
  - 淨變更：持續增長 = 功能開發者；波動大 = 維護者

- **涉及檔案數**
  - 廣泛分佈：全棧能力
  - 集中特定模組：專業領域深耕

### ⚠️ 注意陷阱：
- 生成的程式碼（package-lock.json, dist/）會灌水
- 需排除：`--diff-filter=d` 過濾刪除的檔案

---

## 2️⃣ Commit 品質指標

### 評估項目：

#### A. Commit Message 規範
```bash
# 分析 message 長度與格式
git log --author="NAME" --pretty=format:"%s"
```
**優質特徵：**
- 遵循 Conventional Commits (feat/fix/docs/refactor)
- 長度適中 (50-72 字元)
- 描述清晰具體

**劣質特徵：**
- "update", "fix bug", "修改" 等模糊描述
- 過長或過短
- 中英混雜、typo 多

#### B. 單次變更規模
```bash
git log --author="NAME" --shortstat
```
**黃金比例：**
- 小型 commit (1-100 行)：60%+ → 模組化思維
- 中型 commit (100-500 行)：30%
- 大型 commit (500+ 行)：<10% → 過多表示缺乏拆分能力

#### C. 修復性提交比例
```bash
git log --author="NAME" --grep="fix\|bug\|hotfix\|revert"
```
**分析：**
- <20%：程式碼品質高
- 20-40%：正常範圍
- \>40%：可能存在品質問題或測試不足

---

## 3️⃣ 技術廣度與深度

### A. 程式語言能力
```bash
# 統計檔案類型
git log --author="NAME" --name-only --pretty=format: | 
  grep -o '\.[^.]*$' | sort | uniq -c | sort -rn
```
**評估：**
- 1-2 種語言：專精型
- 3-5 種：全棧
- 5+ 種：技術廣度優秀

### B. 技術棧分析
**前端指標：**
- `.js, .ts, .jsx, .tsx, .vue, .css, .scss`
- Framework 相關：package.json, webpack.config.js

**後端指標：**
- `.java, .py, .go, .cs, .rb`
- API 設計：Controller, Service, Repository 模式

**DevOps 指標：**
- `Dockerfile, .yml, .tf, .sh`
- CI/CD：.gitlab-ci.yml, Jenkinsfile

### C. 架構能力
```bash
# 分析涉及的目錄層級
git log --author="NAME" --name-only --dirstat
```
- 只改 UI 層：初級
- 跨層修改 (UI + API + DB)：中級
- 架構調整 (config, infra)：高級

---

## 4️⃣ 協作能力指標

### A. Code Review 參與度
```bash
# 查看 PR/MR comments (需 GitLab/GitHub API)
# 替代：分析 merge commits
git log --author="NAME" --merges
```

### B. Conflict 處理能力
```bash
# 查找包含 conflict 的 commits
git log --all --grep="conflict\|merge"
```
- 頻繁 conflict：可能溝通不足或分支策略問題
- 無 conflict：可能獨立開發或協作少

### C. 回退率 (Revert Rate)
```bash
git log --all --grep="Revert.*$AUTHOR"
```
- 被 revert 次數 / 總提交數
- <2%：優秀
- \>5%：需改進

---

## 5️⃣ 工作模式與效率

### A. 提交時間分佈
```bash
# 按星期分佈
git log --author="NAME" --date=format:"%A" --pretty=format:"%ad"

# 按小時分佈
git log --author="NAME" --date=format:"%H" --pretty=format:"%ad"
```
**分析：**
- 工作日集中：專業規律
- 深夜/周末多：可能趕工或時間管理問題
- 均勻分佈：工作節奏穩定

### B. 提交頻率穩定性
```bash
git log --author="NAME" --date=short --format="%ad" | uniq -c
```
- 每天多次小 commit：敏捷開發
- 週期性大批 commit：可能積壓或 deadline 驅動

---

## 6️⃣ 進步趨勢分析

### 時間切片對比
```bash
# 早期 (前 6 個月)
git log --author="NAME" --since="2023-01-01" --until="2023-06-30"

# 近期 (最近 6 個月)
git log --author="NAME" --since="2025-07-01"
```

**對比維度：**
1. Commit message 品質改善
2. 單次變更規模趨向合理
3. 涉及技術棧擴展
4. 修復性提交比例降低

---

## 🎯 綜合評分模型

### 評分權重分配

| 維度 | 權重 | 評分標準 |
|------|------|----------|
| **程式碼貢獻量** | 15% | 活躍度、變更規模 |
| **Commit 品質** | 25% | Message 規範、變更粒度、修復率 |
| **技術廣度** | 20% | 語言種類、技術棧覆蓋 |
| **協作能力** | 15% | Review 參與、衝突處理 |
| **工作模式** | 10% | 時間分佈、穩定性 |
| **進步趨勢** | 15% | 成長曲線、技能提升 |

### 分級標準

**🏆 高級工程師 (8-10 分)**
- Commit message 90%+ 符合規範
- 單次變更 <300 行占比 80%+
- 涉及 3+ 技術棧
- 修復率 <15%
- 有架構級別變更

**⭐ 中級工程師 (5-7 分)**
- Message 規範率 60-90%
- 變更粒度合理
- 2-3 種技術棧
- 修復率 15-30%
- 功能開發為主

**🌱 初級工程師 (1-4 分)**
- Message 不規範
- 大量修復性提交
- 單一技術棧
- 變更集中於小範圍

---

## 🛠️ 實用分析指令

### 快速檢查清單
```bash
# 1. 基礎統計
git log --author="NAME" --oneline | wc -l
git log --author="NAME" --shortstat | awk '/files? changed/ {files+=$1; ins+=$4; del+=$6} END {print "Files:", files, "Ins:", ins, "Del:", del}'

# 2. 最活躍檔案
git log --author="NAME" --name-only --pretty=format: | sort | uniq -c | sort -rn | head -10

# 3. 最大單次變更
git log --author="NAME" --shortstat --oneline | grep -B1 "files changed" | head -20

# 4. 技術棧雷達圖數據
git log --author="NAME" --name-only --pretty=format: | 
  awk -F. '{if(NF>1) print $NF}' | sort | uniq -c | sort -rn

# 5. 修復趨勢
git log --author="NAME" --since="6 months ago" --grep="fix" --oneline | wc -l
```

---

## ⚠️ 分析局限性

### 無法評估的能力：
1. **程式碼邏輯品質** - 需 Code Review 或靜態分析
2. **演算法效率** - 需效能測試
3. **安全意識** - 需專項掃描
4. **文檔能力** - 需查看 README/Wiki
5. **設計能力** - 需架構圖/設計文檔

### 數據可能失真的情況：
- 使用 squash merge 會隱藏實際提交數
- Pair programming 提交歸屬不明確
- 接手遺留專案會有大量刪除
- 使用生成工具（scaffold）會灌水

---

## 📋 完整評估報告模板

```markdown
# 開發者技術評估報告

**姓名：** XXX  
**評估期間：** 2024-01-01 ~ 2024-12-31  
**總評分：** 7.5/10 (中高級)

## 一、貢獻統計
- 提交次數：247 次
- 程式碼變更：+15,432 / -8,921 行
- 活躍天數：156 天
- 涉及專案：3 個

## 二、程式碼品質
- Commit 規範率：78% ✅
- 平均變更：182 行/commit
- 修復率：22%
- 被 revert：3 次 (1.2%)

## 三、技術能力
**主要技術棧：**
- TypeScript: 45%
- Python: 30%
- Go: 15%
- YAML/Config: 10%

**能力評估：**
- ✅ 全棧開發能力
- ✅ 熟悉 CI/CD
- ⚠️ 資料庫優化經驗較少

## 四、協作表現
- Merge commits: 34 次
- 跨模組協作：良好
- 衝突處理：及時

## 五、成長軌跡
**2024 Q1 vs Q4 對比：**
- Message 規範提升 +25%
- 單次變更降低 -40%
- 技術棧擴展：新增 Go

## 六、改進建議
1. 減少大型 commit，提升模組化
2. 增強資料庫層面的優化經驗
3. 參與更多架構設計討論
```

---

## 🚀 下一步行動

使用提供的 `analyze_developer.sh` 腳本快速生成報告：

```bash
./analyze_developer.sh "開發者名稱" "2024-01-01" "2024-12-31" > output/report.txt
```

需要深入分析時，結合：
- SonarQube (程式碼品質)
- GitLab/GitHub Insights (協作數據)
- 人工 Code Review (邏輯評估)
